# üöó Telegram Auto Post Bot

**Telegram Auto Post Bot** ‚Äî —ç—Ç–æ –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –Ω–∞ Python, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏ –æ –ø—Ä–æ–¥–∞–∂–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π. –û–Ω —Å–ø–æ—Å–æ–±–µ–Ω –ø–∞—Ä—Å–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Ö —Å –ø–æ–º–æ—â—å—é AI –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–æ–º, –∞ —Ç–∞–∫–∂–µ —Å–ª—É–∂–∏—Ç—å –±–æ—Ç–æ–º –¥–ª—è –ø—Ä–∏—ë–º–∞ –∑–∞—è–≤–æ–∫ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤.

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥**: –ó–∞–±–∏—Ä–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è (—Ç–µ–∫—Å—Ç –∏ —Ñ–æ—Ç–æ) –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ Telegram-–∫–∞–Ω–∞–ª–∞.
*   **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (OCR)**: –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é Yandex Vision.
*   **AI-–æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Perplexity AI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞—é—â–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
*   **–ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥**: –ü—É–±–ª–∏–∫—É–µ—Ç –≥–æ—Ç–æ–≤—ã–µ, –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –≤ —Ü–µ–ª–µ–≤–æ–π –∫–∞–Ω–∞–ª.
*   **–ë–æ—Ç –¥–ª—è –∑–∞—è–≤–æ–∫**: –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–æ—Ç, –ø—Ä–∏–Ω–∏–º–∞—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–µ—Ä–µ—Å—ã–ª–∞—è –∏—Ö –≤ –≥—Ä—É–ø–ø—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
*   **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –∑–∞—è–≤–∫–∏ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö SQLite.
*   **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞.

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

*   **–Ø–∑—ã–∫:** Python 3.10+
*   **Telegram-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
    *   [Telethon](https://github.com/LonamiWebs/Telethon) ‚Äî –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –ø–æ—Å—Ç–∏–Ω–≥–∞ –≤ –∫–∞–Ω–∞–ª—ã.
    *   [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot) ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –±–æ—Ç–∞-–ø–æ–º–æ—â–Ω–∏–∫–∞.
*   **AI –∏ OCR:**
    *   [Perplexity AI](https://www.perplexity.ai/)
    *   [Yandex Cloud API (Vision OCR)](https://cloud.yandex.ru/services/vision)
*   **–•—Ä–∞–Ω–∏–ª–∏—â–µ:** SQLite
*   **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:** `config.ini` –∏ `.env`
*   **CI/CD:** GitHub Actions, Docker, Docker Compose

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/–≤–∞—à-–ª–æ–≥–∏–Ω/Telegram-Auto-Post-Bot.git
    cd Telegram-Auto-Post-Bot
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    make install
    # –∏–ª–∏
    pip install -r requirements.txt
    pip install -r requirements-dev.txt
    ```

3.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
    *   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `example.env` –≤ `.env` –∏ `config.example.ini` –≤ `config.ini`.
    *   –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –æ–±–æ–∏—Ö —Ñ–∞–π–ª–∞—Ö (`.env` –∏ `config.ini`).

4.  **–ó–∞–ø—É—Å–∫:**
        ```bash
    make run
    # –∏–ª–∏
        python main.py
        ```

### Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. **–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫:**
    ```bash
    make docker-build
    make docker-run
    ```

2. **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
    ```bash
    make docker-logs
    ```

3. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
    ```bash
    make docker-stop
    ```

## üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã Make

```bash
make help          # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
make setup         # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make test          # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make lint          # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
make format        # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
make security      # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
make ci            # –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ CI
make clean         # –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/ -v

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pytest tests/ --cov=app --cov-report=html

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
pytest tests/test_config.py::TestConfig::test_get_pricing_config_default
```

### –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞
flake8 app/ main.py
black --check app/ main.py
isort --check-only app/ main.py

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
black app/ main.py
isort app/ main.py
```

## üîÑ CI/CD

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

### Workflows

- **CI** (`ci.yml`): –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ª–∏–Ω—Ç–∏–Ω–≥, –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- **Deploy** (`deploy.yml`): –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- **Security** (`security.yml`): –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–∏ push/PR
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ (flake8, black, isort)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (safety, bandit)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ main –≤–µ—Ç–∫—É
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ Systemd —Å–µ—Ä–≤–∏—Å –¥–ª—è production

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è CI/CD

–î–æ–±–∞–≤—å—Ç–µ –≤ GitHub Secrets:

        ```bash
# Telegram
BOT_TOKEN=your_bot_token
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
PERPLEXITY_API_KEY=your_perplexity_key

# Server deployment
SERVER_HOST=your_server_ip
SERVER_USER=your_server_user
SERVER_SSH_KEY=your_private_key
SERVER_PORT=22
        ```

## üóÇ –ü—Ä–∏–º–µ—Ä `.env`

```env
# –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram-–±–æ—Ç–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç @BotFather
BOT_TOKEN="YOUR_TELEGRAM_BOT_TOKEN"
# –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (–±–µ–∑ @)
BOT_USERNAME="YOUR_BOT_USERNAME"

# ID –≥—Ä—É–ø–ø—ã/—á–∞—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –ø–µ—Ä–µ—Å—ã–ª–∫–∏ –∑–∞—è–≤–æ–∫
# –ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å ID, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç–æ–≤ —Ç–∏–ø–∞ @userinfobot
# –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ –∞–¥–º–∏–Ω-–≥—Ä—É–ø–ø—É —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
ADMIN_GROUP_ID="YOUR_ADMIN_GROUP_CHAT_ID"

# --- Telethon API ---
# –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞/–ø–æ—Å—Ç–∏–Ω–≥–∞
# –ü–æ–ª—É—á–∏—Ç—å –º–æ–∂–Ω–æ –Ω–∞ https://my.telegram.org
TELEGRAM_API_ID="YOUR_API_ID"
TELEGRAM_API_HASH="YOUR_API_HASH"
TELEGRAM_PHONE="YOUR_PHONE_NUMBER" # –≤ —Ñ–æ—Ä–º–∞—Ç–µ +79991234567

# --- –ö–∞–Ω–∞–ª—ã ---
# –ö–∞–Ω–∞–ª, –æ—Ç–∫—É–¥–∞ –±–æ—Ç –±—É–¥–µ—Ç –±—Ä–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
TELEGRAM_CHANNEL="SOURCE_CHANNEL_USERNAME"
# –ö–∞–Ω–∞–ª, –∫—É–¥–∞ –±–æ—Ç –±—É–¥–µ—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è
TELEGRAM_CHANNEL_ID="-100YOUR_TARGET_CHANNEL_ID"

# --- –ö–ª—é—á–∏ API ---
# –ö–ª—é—á –¥–ª—è Perplexity AI
PERPLEXITY_API_KEY="YOUR_PERPLEXITY_API_KEY"

# --- Yandex Cloud ---
# OAuth-—Ç–æ–∫–µ–Ω –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è IAM-—Ç–æ–∫–µ–Ω–∞
YANDEX_OAUTH_TOKEN="YOUR_YANDEX_OAUTH_TOKEN"
# ID –∫–∞—Ç–∞–ª–æ–≥–∞ –≤ Yandex Cloud
YANDEX_FOLDER_ID="YOUR_YANDEX_FOLDER_ID"
```

## üõ† –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

* –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π VIN / –ì–æ—Å–Ω–æ–º–µ—Ä API
* –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–µ–π–∫–æ–≤
* –†–∞—Å—Å—ã–ª–∫–∞ –Ω–æ–≤—ã—Ö –∞–≤—Ç–æ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ
* Kubernetes —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
* –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

## üì¨ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

*   –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ **Issues** –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

