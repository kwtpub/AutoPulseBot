#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ö–µ—à—Ç–µ–≥–æ–≤
"""

from app.utils.announcement_processor import format_perplexity_response_with_quotes

# –¢–µ—Å—Ç 1: –•–µ—à—Ç–µ–≥–∏ –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤
test_1 = """<b>Mercedes-Benz CLS 300 2022</b> ‚Äî –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π —Å–µ–¥–∞–Ω —Å –æ—Ç–ª–∏—á–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏.

üõ† <b>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</b>
–î–≤–∏–≥–∞—Ç–µ–ª—å: 2.0T 258HP
–ü—Ä–∏–≤–æ–¥: –∑–∞–¥–Ω–∏–π
–ö–æ—Ä–æ–±–∫–∞: –∞–≤—Ç–æ–º–∞—Ç
–ü—Ä–æ–±–µ–≥: 40 000 –∫–º

üìä <b>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:</b>
- –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ ESP
- –ê–Ω—Ç–∏–±–ª–æ–∫–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ABS
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–º–æ—â–∏ –ø—Ä–∏ –ø–∞—Ä–∫–æ–≤–∫–µ
- –ö—Ä—É–∏–∑-–∫–æ–Ω—Ç—Ä–æ–ª—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π

üõ° <b>–°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã:</b>
–°–æ—Å—Ç–æ—è–Ω–∏–µ: –æ—Ç–ª–∏—á–Ω–æ–µ
–î–æ–∫—É–º–µ–Ω—Ç—ã: –≤ –ø–æ—Ä—è–¥–∫–µ

Custom ID: 020-432
#MercedesBenz#CLS#2022#–∞–≤—Ç–æ–ú–∏–Ω—Å–∫#–∞–≤—Ç–æ–ø—Ä–æ–¥–∞–∂–∞"""

# –¢–µ—Å—Ç 2: –•–µ—à—Ç–µ–≥–∏ —Å —á–∞—Å—Ç–∏—á–Ω—ã–º–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏
test_2 = """<b>Mercedes-Benz CLS 300 2022</b> ‚Äî –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π —Å–µ–¥–∞–Ω —Å –æ—Ç–ª–∏—á–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏.

üõ† <b>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</b>
–î–≤–∏–≥–∞—Ç–µ–ª—å: 2.0T 258HP
–ü—Ä–∏–≤–æ–¥: –∑–∞–¥–Ω–∏–π
–ö–æ—Ä–æ–±–∫–∞: –∞–≤—Ç–æ–º–∞—Ç
–ü—Ä–æ–±–µ–≥: 40 000 –∫–º

‚öôÔ∏è <b>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:</b>
- –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ ESP
- –ê–Ω—Ç–∏–±–ª–æ–∫–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ABS
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–º–æ—â–∏ –ø—Ä–∏ –ø–∞—Ä–∫–æ–≤–∫–µ
- –ö—Ä—É–∏–∑-–∫–æ–Ω—Ç—Ä–æ–ª—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π

üõ° <b>–°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã:</b>
–°–æ—Å—Ç–æ—è–Ω–∏–µ: –æ—Ç–ª–∏—á–Ω–æ–µ
–î–æ–∫—É–º–µ–Ω—Ç—ã: –≤ –ø–æ—Ä—è–¥–∫–µ

Custom ID: 020-432
#MercedesBenz #CLS#2022 #–∞–≤—Ç–æ–ú–∏–Ω—Å–∫#–∞–≤—Ç–æ–ø—Ä–æ–¥–∞–∂–∞"""

# –¢–µ—Å—Ç 3: –•–µ—à—Ç–µ–≥–∏ –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —Å —Ç–µ–∫—Å—Ç–æ–º
test_3 = """<b>Mercedes-Benz CLS 300 2022</b> ‚Äî –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π —Å–µ–¥–∞–Ω —Å –æ—Ç–ª–∏—á–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏.

üõ† <b>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</b>
–î–≤–∏–≥–∞—Ç–µ–ª—å: 2.0T 258HP
–ü—Ä–∏–≤–æ–¥: –∑–∞–¥–Ω–∏–π
–ö–æ—Ä–æ–±–∫–∞: –∞–≤—Ç–æ–º–∞—Ç
–ü—Ä–æ–±–µ–≥: 40 000 –∫–º

Custom ID: 020-432 #MercedesBenz#CLS#2022"""

# –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ—Ä—Ö–Ω–µ–≥–æ —Ç–µ–∫—Å—Ç–∞
test_4 = """<b>Mercedes-Benz CLS 300 2022</b> ‚Äî –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π —Å–µ–¥–∞–Ω —Å —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º –∏ –æ—Ç–ª–∏—á–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏.

‚öôÔ∏è <b>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:</b>
–°–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: ABS, ESP, –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã –≤–æ–¥–∏—Ç–µ–ª—è
–ú—É–ª—å—Ç–∏–º–µ–¥–∏–∞: CarPlay/Android Auto, Bluetooth
–û–ø—Ü–∏–∏: –∫–ª–∏–º–∞—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å, –ø–æ–¥–æ–≥—Ä–µ–≤ —Å–∏–¥–µ–Ω–∏–π, –¥–∞—Ç—á–∏–∫–∏ –ø–∞—Ä–∫–æ–≤–∫–∏
–ë–∞–≥–∞–∂–Ω–∏–∫: ~520 –ª, –∫–ª–∏—Ä–µ–Ω—Å: 93 –º–º, —Ä–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞: 7‚Äì8 –ª/100 –∫–º

#MercedesBenz#CLS#2022#–∞–≤—Ç–æ–ú–∏–Ω—Å–∫#–ø—Ä–æ–¥–∞–∂–∞"""

# –¢–µ—Å—Ç 5: –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏" –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ª–æ–≥–µ
test_5 = """<b>Mercedes-Benz CLS 300 2022</b> ‚Äî –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π —Å–µ–¥–∞–Ω —Å —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º –∏ –æ—Ç–ª–∏—á–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏.

‚öôÔ∏è <b>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:</b>
–°–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: ABS, ESP, –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã –≤–æ–¥–∏—Ç–µ–ª—è
–ú—É–ª—å—Ç–∏–º–µ–¥–∏–∞: CarPlay/Android Auto, Bluetooth
–û–ø—Ü–∏–∏: –∫–ª–∏–º–∞—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å, –ø–æ–¥–æ–≥—Ä–µ–≤ —Å–∏–¥–µ–Ω–∏–π, –¥–∞—Ç—á–∏–∫–∏ –ø–∞—Ä–∫–æ–≤–∫–∏
–ë–∞–≥–∞–∂–Ω–∏–∫: ~520 –ª, –∫–ª–∏—Ä–µ–Ω—Å: 93 –º–º, —Ä–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞: 7‚Äì8 –ª/100 –∫–º

#MercedesBenz#CLS#2022#–∞–≤—Ç–æ–ú–∏–Ω—Å–∫#–ø—Ä–æ–¥–∞–∂–∞"""

print("=== –¢–ï–°–¢ 1: –•–µ—à—Ç–µ–≥–∏ –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ ===")
print(format_perplexity_response_with_quotes(test_1))
print("\n=== –¢–ï–°–¢ 2: –•–µ—à—Ç–µ–≥–∏ —Å —á–∞—Å—Ç–∏—á–Ω—ã–º–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏ ===")
print(format_perplexity_response_with_quotes(test_2))
print("\n=== –¢–ï–°–¢ 3: –•–µ—à—Ç–µ–≥–∏ –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —Å —Ç–µ–∫—Å—Ç–æ–º ===")
print(format_perplexity_response_with_quotes(test_3))
print("\n=== –¢–ï–°–¢ 4: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ ===")
result = format_perplexity_response_with_quotes(test_4)
print(result)
print("\n=== –ü–†–û–í–ï–†–ö–ê: –ï—Å—Ç—å –ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ? ===")
if "<b>Mercedes-Benz CLS 300 2022</b>" in result:
    print("‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω")
else:
    print("‚ùå –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ—Ç–µ—Ä—è–Ω!")

print("\n=== –¢–ï–°–¢ 5: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ ===")
result = format_perplexity_response_with_quotes(test_5)
print(result)
print("\n=== –ü–†–û–í–ï–†–ö–ê: –ï—Å—Ç—å –ª–∏ blockquote –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ? ===")
if "<blockquote>" in result:
    print("‚úÖ Blockquote –Ω–∞–π–¥–µ–Ω")
    # –ò–∑–≤–ª–µ–∫–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ blockquote
    import re
    blockquote_content = re.search(r'<blockquote>(.*?)</blockquote>', result, re.DOTALL)
    if blockquote_content:
        print(f"üì¶ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ blockquote:\n{blockquote_content.group(1)}")
else:
    print("‚ùå Blockquote –Ω–µ –Ω–∞–π–¥–µ–Ω!") 